/**
* WARNING: This CheckCommand definition is automatically generated by Puppet.
* ANY MANUAL CHANGES TO IT WILL GET OVERWRITTEN!
*/

/**
* A CheckCommand definition. You can create your own configuration files
* in the conf.d directory (e.g. one per commnand). By default all *.conf
* files in this directory are included.
*
*/

object CheckCommand "<%= @object_checkcommandname %>" {
  <%#- If any of the @ parameters are undefined, don't print anything for them: -%>

  <%- if @template_to_import -%>
  import "<%= @template_to_import -%>"

  <%- end -%>
  <%- if @command -%>
  command = [ <% if @cmd_path -%><%= @cmd_path -%> + <% end -%><% @command.each_with_index do |cmd, i| %>"<%= cmd -%>"<%= ', ' if i < (@command.size - 1) %><% end %> ]
  <%- end -%>
  <%- if @arguments.any? -%>

  arguments = <%= scope.function_icinga2_config_value([@arguments]) %>
  <%- end -%>
  <%- if @vars.any? -%>

  vars += <%= scope.function_icinga2_config_value([@vars]) %>
  <%- end -%>
  <%- if @timeout -%>

  timeout = <%= @timeout %>
  <%- end -%>
  <%- if @env.any? -%>

  env += <%= scope.function_icinga2_config_value([@env]) %>
  <%- end -%>
}
