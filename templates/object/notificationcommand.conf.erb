/**
* WARNING: This NotificationCommand definition is automatically generated by Puppet.
* ANY MANUAL CHANGES TO IT WILL GET OVERWRITTEN!
*/

/**
* A NotificationCommand definition. You can create your own configuration files
* in the conf.d directory (e.g. one per commnand). By default all *.conf
* files in this directory are included.
*
*/

object NotificationCommand "<%= @object_notificationcommandname %>" {
  <%- @templates.each do |t| -%>
  import "<%= t -%>"
  <%- end -%>
  <%- if @command -%>

  <%- a_command = [@command].flatten.compact -%>
  command = [ <% a_command.each_with_index do |cmd, i| %><% if @cmd_path -%><%= @cmd_path -%> + <% end -%>"<%= cmd -%>"<%= ', ' if i < (a_command.size - 1) %><% end %> ]
  <%- end -%>
  <%- if @arguments.any? -%>

  arguments = <%= scope.function_icinga2_config_value([@arguments]) %>
  <%- end -%>
  <%- if @vars.any? -%>

  vars = <%= scope.function_icinga2_config_value([@vars]) %>
  <%- end -%>
  <%- if @timeout -%>

  timeout = <%= @timeout %>
  <%- end -%>
  <%- if @env.any? -%>

  env = <%= scope.function_icinga2_config_value([@env]) %>
  <%- end -%>
}
