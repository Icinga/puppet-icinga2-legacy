/**
 * WARNING: This service definition is automatically generated by Puppet.
 * ANY MANUAL CHANGES TO IT WILL GET OVERWRITTEN!
 */

/**
 * A object definition that applys scheduled downtimes to hosts. You can create your
 * own configuration files in the conf.d directory (e.g. one per host).
 * By default all *.conf files in this directory are included.
 *
 */

apply ScheduledDowntime "<%= @object_downtimename %>" <%= @apply %> {
  <%#- If any of the @ parameters are undefined, don't print anything for them: -%>
  <%- if @template_to_import -%>
  <%#- Otherwise, include the parameter: -%>
  import "<%= @template_to_import -%>"
  <%- end -%>
  <%- if @display_name -%>
  display_name = "<%= @display_name -%>"
  <%- end -%>

  author = "<%= @author -%>"
  comment = "<%= @comment -%>"

  <%- if @assign_where -%>
  assign where <%= @assign_where -%>
  <%- end -%>
  <%- if @ignore_where -%>
  ignore where <%= @ignore_where -%>
  <%- end -%>

  <%- if @fixed !=  true -%>
  fixed = false
  <%- end -%>
  <%- if @duration -%>
  duration = <%= @duration %>
  <%- end -%>
  <%- if @ranges.empty? != true  -%>

  ranges = {
  <%- @ranges.sort_by {|key, value| key}.each do |key, value| -%>
    "<%= key %>" = "<%= value %>"
  <%- end -%>
  }
  <%- end -%>
}
