<%= scope.function_template(['icinga2/_header.erb']) -%>

object ApiListener "api" {
  cert_path = "<%= @cert_path %>"
  key_path = "<%= @key_path %>"
  ca_path = "<%= @ca_path %>"
  <%- if @crl_path -%>
  crl_path = "<%= @crl_path %>"
  <%- end -%>
  <%- if @bind_host -%>
  bind_host = "<%= @bind_host %>"
  <%- end -%>
  <%- if @bind_port -%>
  bind_port = <%= @bind_port %>
  <%- end -%>
  accept_config = <%= @accept_config %>
  accept_commands = <%= @accept_commands %>
  <%- if @ticket_salt -%>
  ticket_salt = TicketSalt
  <%- end -%>

  <%- if @cipher_list -%>
  cipher_list = <%= scope.function_icinga2_config_value([@cipher_list]) %>
  <%- end -%>
  <%- if @tls_protocolmin -%>
  tls_protocolmin = <%= scope.function_icinga2_config_value([@tls_protocolmin]) %>
  <%- end -%>
}
